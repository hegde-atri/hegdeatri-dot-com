---
import Layout from "./Layout.astro";
const { title, description, comments } = Astro.props;
---

<Layout title={title} description={description}>
  <article class="prose dark:prose-invert mx-auto my-10">
    <h1>{title}</h1>
    <slot />
  </article>
  { comments && (<script
    src="https://utteranc.es/client.js"
    repo="hegde-atri/hegdeatri-dot-com-v2"
    issue-term="pathname"
    theme="dark-blue"
    crossorigin="anonymous"
    async
  ></script>) }
</Layout>

<!-- <script is:inline>
  const comments = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("comments")) {
      return localStorage.getItem("comments");
    }
    return true;
  })();
  TODO: enable/disable comments section.

      if (comments == true) {
          console.log(true)
        document.documentElement.classList.remove("dark");
      } else {
        document.documentElement.classList.add("dark");
      }

      window.localStorage.setItem("theme", theme);

      const handleToggleClick = () => {
        const element = document.documentElement;
        element.classList.toggle("dark");

        const isDark = element.classList.contains("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
      };

      document.getElementById("themeToggle").addEventListener("click", handleToggleClick);
</script> -->
