---
import SnippetLayout from "../../layouts/SnippetLayout.astro";

export async function getStaticPaths() {
  let posts = await Astro.glob("../../content/snippets/**/*.md*");
  const snippets = posts.filter((snippet) => !snippet.frontmatter.draft);
  return snippets.map((snippet) => {
    return {
      params: { slug: snippet.frontmatter.slug },
      props: { ...snippet },
    };
  });
}

const { Content, frontmatter } = Astro.props;
const title = frontmatter.title;
const description = frontmatter.description ?? "A code snippet about " + title;
const keywords = frontmatter.keywords;
const comments = frontmatter.comments ?? true;
---

<SnippetLayout title={title} description={description} keywords={keywords} comments={comments}>
  <Content />
</SnippetLayout>
