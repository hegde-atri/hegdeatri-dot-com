---
const { post } = Astro.props;
function formatDate(date: Date) {
  return new Date(date).toUTCString().replace(/(\d\d\d\d) .*/, "$1");
}
---

<article class="m-2 p-3 mx-auto w-3/5 flex flex-col mb-8 btn">
  <div class="flex flex-col">
    <h3 class="text-2xl font-bold hover-effect p-2">
      <a class="text-background dark:text-foreground-200" href={`/snippets/${post.frontmatter.slug}`}
        >{post.frontmatter.title}</a
      >
    </h3>
    <blockquote class="border-l-4 border-l-foreground-500 pl-2 text-grey-400">
      <time class="" datetime={post.frontmatter.pubDate}>{formatDate(post.frontmatter.pubDate)}</time>
    </blockquote>
  </div>
  <p class="text-grey-200 m-1 p-1">
    {post.frontmatter.description || "A post about " + post.frontmatter.title}
  </p>
</article>
<style>
  article {
    transition: 500ms;
    border-radius: 8px;
    opacity: 0.85;
    transition: opacity 0.3s ease-out;
  }

  article:hover {
    opacity: 1;
  }

  /* Underline effect title */
  a {
    color: #18272f;
    position: relative;
    text-decoration: none;
    box-shadow: 0 0 1px transparent;
  }

  a::before {
    content: "";
    position: absolute;
    width: 100%;
    height: 4px;
    border-radius: 4px;
    bottom: 0;
    left: 0;
    transform-origin: right;
    transform: scaleX(0);
    transition: transform 0.3s ease-in-out;
    background: #445285;
    box-shadow: 0px 0px 5px #19bdc1;
  }

  :global(.dark) a::before {
    background: #34d9dc;
    box-shadow: 0px 0px 5px #adf4f3;
  }

  a:hover::before {
    transform-origin: left;
    transform: scaleX(1);
  }
</style>
